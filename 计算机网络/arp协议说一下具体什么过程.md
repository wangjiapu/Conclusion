


arp协议地址解析协议：

- 每个主机在自己arp缓冲区中会有一个ip地址和mac地址对应的列表选项；
- 当一个主机想要发送数据包时，在自己的arp列表中查看有没有这个ip，有　直接发送，没有就通过广播的方式在本网段发送一个包含有自己ｉｐ地址，mac地址还有目标ip地址的数据包．
- 如果接受方检查看ｉｐ地址与自己相符那么就接受并写入自己的arp列表选项中，然后回复，如果不是那么就理会，直接丢掉．
- 源ip收到后，在自己的arp列表中注册以后直接使用．


当主机A和主机B不在同一网段时，主机A就会先向网关发出ARP请求，ARP请求报文中的目标IP地址为网关的IP地址。
当主机A从收到的响应报文中获得网关的MAC地址后，将报文封装并发给网关。如果网关没有主机B的ARP表项，网关会广播ARP请求，
目标IP地址为主机B的IP地址，当网关从收到的响应报文中获得主机B的MAC地址后，就可以将报文发给主机B；如果网关已经有主机B的ARP表项，
网关直接把报文发给主机B。
