

# 应用层

有许多协议: web服务，电子邮件服务，NDS等

- 应用层使用的是的是c/s服务模型，因为需要解决两个问题：1.互联网应用程序之间的同步问题。2.应用程序资源分布不均匀的情况（客户端使用的资源少，
服务端使用的资源多）
- 客户端发起请求是随机的，服务端必要的解决问题的能力之二：1.迭代服务器。（创建请求队列，一个个做出响应）2.并发服务器（并发服务器作为一个守护线程，
当有客户端发起请求时，fork一个进程去处理这个请求，然后自己继续等待下一个请求。）

###  web服务

web服务模型三部分：

- web服务提供者；IIS,Apache服务器的服务器程序
- web服务请求者；ie chrome浏览器等
- web服务注册中心；（局域网中的不需要注册）它是指互联网注册管理中心，主要是提供网站域名解析的internet服务提供商


### 万维网全球统一标识

- URL:统一资源定位器：访问对应资源的path：格式 ：<协议>://<主机名>:<端口>/<路径>，协议有很多：http,Https,FTP等
- URI:统一资源标识符：eg：<方案名>:<主机名>/<路劲>，通过这个可以找到唯一一个资源，但是没有办法定位到什么资源一样，参考身份证号
- URN:统一资源名称：资源的名称。

### 万维网文档标记：

html :一种标记语言，用来结构化信息的；由w3c维护

HTML 文档有静态的HTML文档，和动态的HTML文档。

HTML 文档中的三超属性： 超文本，超媒体，超链接；


## HTTP 服务：

面向文本的应用层协议。使用的端口是TCP的80端口

### HTTP 主要特征：

- c/s模型
- 无连接：无连接是指自己无需再自己建造一个连接，是使用tcp的连接，一些协议是面向连接的：POP3,SMTP
- 高可靠性：由于基于TCP所以高可靠，
- 无状态：
- 简单快速：只要传送方法（post.get，head）和路劲即可,由于http的服务器规模小，所以通信速度快。

### 请求报文格式：

四部分：

1. 请求行：请求方法，url,协议版本（http1.1）三个字段组成；
2. 请求头部行：是有一系列的请求字段加值组成，  指定客户端可以处理的返回数据类型，例如：accept:text/html可以接受HTML文本。
[更多请求头信息](http://blog.csdn.net/u010412301/article/details/65067176)；
3. 空行：告诉服务器没有请求参数了（一个参数占一行）；
4. 实体：不能出现在get方法中，用于post方法中；


### 响应报文格式：

四部分：

1. 响应行：三个字段：协议版本，[状态码](http://tool.oschina.net/commons?type=5)，描述短语。描述短语指的是对状态码的简短描述
2. 响应头部：一些键值对信息，不能放在状态行中的信息，[响应字段](https://www.cnblogs.com/honghong87/articles/6941436.html)
3. 空行：同请求
4. 实体：实体。


## DNS

使用ip地址的坏处：

1. 不方便记忆，ipv4 12位，ipv6是ipv4的4倍；
2. 不方便地址的变更；
3. 不安全；

提出这个的原因是：1.解决容易发生名称冲突的问题；2.服务器解析能力不足的问题；

#### 解决办法：

- 名称冲突问题：使用"域"的概念，webServer.lycb.com   webServer是主机名，后面是域，添加层次

- 性能不足的问题：还是使用分层解析，顶级域名让顶级域名提供商解析，二级让二级来解析，www.ppppp.net.cn 一级是cn 二级net；


### DNS递归解析原理：

递归解析  -递归查询：  如果客户端配置的本地名称服务器不能解析，则后面的查询全由本笃服务器代替DNS客户端进行查询，知道权威服务器得到正确的解析结果，
然后由本地服务器告诉DNS客户端结果。

### DNS迭代解析原理：

迭代解析 ---迭代查询：报文中的RD字段置为0,就是DNS客户端自己查询，如果没有那么就返回一个"地址"让DNS客户端自己去找，然后查询。


## DHCP 服务
动态主机配置协议，是一种简化主机ip配置的一种协议，DHCP服务器为安装了DHCP客户端的mac分配ip地址和其他的相关配置，

自动分配有4步：

1. 发现阶段：dhcp客户端通过广播发送报文，发现DHCP服务端

2. 提供阶段：服务端向客户端预分配ip

3. 选择阶段：通过报文选择一个DHCP服务器所分配的ip地址

4. 确认阶段：




