

##  垃圾回收算法

#### 标记-清除
1. 标记所有需要回收的对象
2. 在标记完成后统一回收

不足：
    标记和清除这两个效率都不是很高
    
   清除后会留下大量的不连续的内存碎片。
#### 标记-整理
标记-整理比较适合老年代，有大量的对象存活，如果使用复制算法那么效率就不是很高；

标记-整理算法不是将最后需要回收的对象回收而是将存活的对象向以边移动后，
清除边界意外的对象，
#### 复制

复制算法比较时候新生代，解决了标记清楚的效率问题，

普通的复制算法：

将内存分配为两个相同大小的内存，当一个对象达到需要清理的界限时，就将这个内存中存活
的对象复制到另一块内存中，然后清楚次快内存；

特殊的：

现在的商业虚拟机都是用一种8：1的方式来复制收集算法来使用的

###  回收算法

- Minor GC

新生代发生的垃圾回收动作，频率高

- Major GC/Full GC

    老年代垃圾回收动作

    1.Major GC  清理永久代
    
    为什么Major 比 Minor慢10倍以上
    
    答：1. 新生代使用的是复制算法，而老年代使用的是标记整理 
       2. 内存空间较大
    
    2.Full GC ：清理的是整个堆空间---年轻代和老年代
    （新生代、老年代、元数据区/永久代）
    
### 空间分配担保
- MinorGC之前先查看老年代最大使用空间是否大于新生代所有对象空间，是--->安全
- 不是----> 查看HandlePromotionFailure参数，如果允许失败 ---->Minor GC
- 不 ----> Full GC


### 垃圾回收器

略

